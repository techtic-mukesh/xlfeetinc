{% comment %}
  Size Range Section – CMS Driven
  Compatible with Dawn
{% endcomment %}

{{ 'section-size-range.css' | asset_url | stylesheet_tag }}

{% style %}
.size-range-section {
  padding: {{ section.settings.padding_top }}px 0 {{ section.settings.padding_bottom }}px;
  background: rgb(var(--color-background));
  color: rgb(var(--color-foreground));
}

.size-range-heading {
  font-size: 28px;
  font-weight: 700;
  margin-bottom: 12px;
}

.size-range-text {
  font-size: 15px;
  line-height: 1.6;
  text-align: center;
  color: rgb(var(--color-base-text));
}

.size-range-image {
  max-width: 1074px;
  width: 100%;
  margin: auto;
}

.size-range-pills {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
  margin-bottom: 32px;
}

.size-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 8px;
min-width: {{ section.settings.pill_min_width }}px;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 500;
  line-height: 24px;
  text-decoration: none;

  background: {{ section.settings.pill_bg }};
  color: {{ section.settings.pill_text }};
  border: 1px solid {{ section.settings.pill_border }};

  transition: all 0.25s ease;
}

.size-pill:hover {
  background: {{ section.settings.pill_hover_bg }};
  color: {{ section.settings.pill_hover_text }};
  border-color: {{ section.settings.pill_hover_bg }};
}

.size-range-image img {
  width: 100%;
  display: block;
}

@media (max-width: 768px) {
  .size-range-heading {
    font-size: 22px;
  }

  .size-range-pills {
    justify-content: center;
    overflow-x: auto;
    padding-bottom: 6px;
  }

  .size-pill {
    white-space: nowrap;
    min-width: unset;
    font-size: 12px;
    line-height: 18px;
    padding: 8px 10px;
  }
  
}
{% endstyle %}

<section class="size-range-section color-{{ section.settings.color_scheme }}">
  <div class="size-range-container page-width">

    {% if section.settings.heading != blank %}
      <h2 class="size-range-heading">{{ section.settings.heading }}</h2>
    {% endif %}

    {% if section.blocks.size > 0 %}
      <div class="size-range-pills">
        {% for block in section.blocks %}
          <a
            href="{{ block.settings.link }}"
            class="size-pill"
            {{ block.shopify_attributes }}
          >
            {{ block.settings.label }}
          </a>
        {% endfor %}
      </div>
    {% endif %}

    {% if section.settings.text != blank %}
      <div class="size-range-text">
        {{ section.settings.text }}
      </div>
    {% endif %}

    {% if section.settings.image != blank %}
      <div class="size-range-image">
        <img
          src="{{ section.settings.image | img_url: 'master' }}"
          alt="{{ section.settings.image.alt | escape }}"
          loading="lazy"
        >
      </div>
    {% endif %}

  </div>
</section>

{% schema %}
{
  "name": "Size Range with Image",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Shop by Size"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Description"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Main Image"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Section Color Scheme",
      "default": "background-1"
    },

    {
      "type": "header",
      "content": "Pill Colors"
    },
    {
        "type": "range",
        "id": "pill_min_width",
        "label": "Pill Min Width (px)",
        "min": 40,
        "max": 150,
        "step": 2,
        "default": 72
    },
    {
      "type": "color",
      "id": "pill_bg",
      "label": "Pill Background",
      "default": "#f5f5f5"
    },
    {
      "type": "color",
      "id": "pill_text",
      "label": "Pill Text Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "pill_border",
      "label": "Pill Border Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "pill_hover_bg",
      "label": "Pill Hover Background",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "pill_hover_text",
      "label": "Pill Hover Text Color",
      "default": "#ffffff"
    },

    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding Top",
      "min": 20,
      "max": 120,
      "step": 4,
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding Bottom",
      "min": 20,
      "max": 120,
      "step": 4,
      "default": 60
    }
  ],
  "blocks": [
    {
      "type": "size",
      "name": "Size Block",
      "settings": [
        {
          "type": "text",
          "id": "label",
          "label": "Size Label",
          "default": "7–13"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Redirect Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Size Range with Image",
      "blocks": [
        { "type": "size" },
        { "type": "size" },
        { "type": "size" }
      ]
    }
  ]
}
{% endschema %}
