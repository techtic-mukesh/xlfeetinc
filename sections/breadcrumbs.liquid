{{ 'component-breadcrumb.css' | asset_url | stylesheet_tag }}

<style>
.breadcrumb {
  padding: {{ section.settings.padding_top }}px {{ section.settings.padding_side }}px {{ section.settings.padding_bottom }}px;
  background: {{ section.settings.bg_color }};
color: rgba(var(--color-foreground), 1);
}

.breadcrumb__list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: {{ section.settings.font_size }}px;
    font-weight: 300;
    text-transform: capitalize;
    justify-content: center;
    line-height: 100%;
}

.breadcrumb__item a {
  color: {{ section.settings.link_color }};
  text-decoration: none;
}

.breadcrumb__item a:hover {
  text-decoration: underline;
}

.breadcrumb__separator {
  color: {{ section.settings.separator_color }};
}
li.breadcrumb__item.breadcrumb__item--active {
    font-weight: 500;
}
</style>

<nav class="breadcrumb" aria-label="breadcrumbs">
  <ul class="breadcrumb__list">
    <li class="breadcrumb__item">
      <a href="{{ routes.root_url }}">{{ section.settings.home_text }}</a>
    </li>

    <li class="breadcrumb__separator">{{ section.settings.separator }}</li>

    {% if template contains 'collection' %}
      <li class="breadcrumb__item breadcrumb__item--active">
        <span>{{ collection.title }}</span>
      </li>

    {% elsif template contains 'product' %}
      {% if product.collections.size > 0 %}
        <li class="breadcrumb__item">
          <a href="{{ product.collections.first.url }}">{{ product.collections.first.title }}</a>
        </li>
        <li class="breadcrumb__separator">{{ section.settings.separator }}</li>
      {% endif %}

      <li class="breadcrumb__item breadcrumb__item--active">
        <span>{{ product.title }}</span>
      </li>

    {% elsif template contains 'page' %}
      <li class="breadcrumb__item breadcrumb__item--active">
        <span>{{ page.title }}</span>
      </li>

    {% elsif template contains 'blog' %}
      <li class="breadcrumb__item breadcrumb__item--active">
        <span>{{ blog.title }}</span>
      </li>

    {% elsif template contains 'article' %}
      <li class="breadcrumb__item">
        <a href="{{ blog.url }}">{{ blog.title }}</a>
      </li>
      <li class="breadcrumb__separator">{{ section.settings.separator }}</li>
      <li class="breadcrumb__item breadcrumb__item--active">
        <span>{{ article.title }}</span>
      </li>

    {% endif %}
  </ul>
</nav>

{% schema %}
{
  "name": "Breadcrumbs",
  "tag": "section",
  "class": "section-breadcrumb",
  "settings": [
    {
      "type": "text",
      "id": "home_text",
      "label": "Home text",
      "default": "Home"
    },
    {
      "type": "text",
      "id": "separator",
      "label": "Separator",
      "default": ">"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "link_color",
      "label": "Link color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "separator_color",
      "label": "Separator color",
      "default": "#666666"
    },
    {
      "type": "range",
      "id": "font_size",
      "min": 10,
      "max": 24,
      "step": 1,
      "label": "Font size",
      "default": 14
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 50,
      "step": 2,
      "label": "Padding top",
      "default": 12
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 50,
      "step": 2,
      "label": "Padding bottom",
      "default": 12
    },
    {
      "type": "range",
      "id": "padding_side",
      "min": 0,
      "max": 80,
      "step": 4,
      "label": "Padding left/right",
      "default": 20
    }
  ],
  "presets": [
    {
      "name": "Breadcrumbs"
    }
  ]
}
{% endschema %}
